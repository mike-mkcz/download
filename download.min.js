(function(a,b){if(typeof define==="function"&&define.amd){define([],b)}else{if(typeof exports==="object"){module.exports=b()}else{a.download=b()}}}(this,function(){return function a(w,f,q,d,A){var i=(d!==undefined&&d!==null);var g=(A!==undefined&&A!==null);var p=window,n="application/octet-stream",t=q||n,l=w,o=document,v=i?d:o.createElement("a"),j=function(m){return String(m)},r=(p.Blob||p.MozBlob||p.WebKitBlob||j);r=r.call?r.bind(p):Blob;var h=f||"download",b,e;if(String(this)==="true"){l=[l,t];t=l[0];l=l[1]}if(String(l).match(/^data\:[\w+\-]+\/[\w+\-]+[,;]/)){return navigator.msSaveBlob?navigator.msSaveBlob(c(l),h):s(l)}b=l instanceof r?l:new r([l],{type:t});function c(m){var C=m.split(/[:;,]/),z=C[1],E=C[2]=="base64"?atob:decodeURIComponent,y=E(C.pop()),D=y.length,x=0,B=new Uint8Array(D);for(x;x<D;++x){B[x]=y.charCodeAt(x)}return new r([B],{type:z})}function s(m,x){if("download" in v){v.href=m;v.setAttribute("download",h);v.innerHTML="downloading...";if(!i){o.body.appendChild(v)}setTimeout(function(){v.click();if(!i){o.body.removeChild(v)}if(x===true){setTimeout(function(){p.URL.revokeObjectURL(v.href)},250)}},66);return true}if(typeof safari!=="undefined"){m="data:"+m.replace(/^data:([\w\/\-\+]+)/,n);if(!window.open(m)){if(confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")){location.href=m}}return true}var u=g?A:o.createElement("iframe");if(!g){o.body.appendChild(u)}if(!x){m="data:"+m.replace(/^data:([\w\/\-\+]+)/,n)}u.src=m;if(!g){setTimeout(function(){o.body.removeChild(u)},333)}}if(navigator.msSaveBlob){return navigator.msSaveBlob(b,h)}if(p.URL){s(p.URL.createObjectURL(b),true)}else{if(typeof b==="string"||b.constructor===j){try{return s("data:"+t+";base64,"+p.btoa(b))}catch(k){return s("data:"+t+","+encodeURIComponent(b))}}e=new FileReader();e.onload=function(m){s(this.result)};e.readAsDataURL(b)}return true}}));